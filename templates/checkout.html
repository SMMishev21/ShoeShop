{% extends "base.html" %}
{% block content %}
<div class="checkout-container">
  <h2>üìã –§–∏–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞</h2>

  {% if items %}
    <div class="order-summary">
      <h3>–ü—Ä–µ–≥–ª–µ–¥ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞</h3>
      <div class="order-items">
        {% for it in items %}
          <div class="order-item">
            <span class="item-name">{{ it.product.name }}</span>
            <span class="item-qty">x {{ it.qty }}</span>
            <span class="item-subtotal">{{ "%.2f"|format(it.subtotal) }} –ª–≤</span>
          </div>
        {% endfor %}
      </div>
      <div class="order-total">
        <strong>–û–±—â–æ: {{ "%.2f"|format(total) }} –ª–≤</strong>
      </div>
    </div>

    <form method="post" class="checkout-form">
      <div class="form-group">
        <label>–ê–¥—Ä–µ—Å –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞</label>
        <textarea name="address" required placeholder="–í—ä–≤–µ–¥–µ—Ç–µ –ø—ä–ª–µ–Ω –∞–¥—Ä–µ—Å –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞..."></textarea>
      </div>

      <div class="form-group">
        <label>–ù–∞—á–∏–Ω –Ω–∞ –ø–ª–∞—â–∞–Ω–µ</label>
        <select name="payment" required>
          <option value="">–ò–∑–±–µ—Ä–µ—Ç–µ –Ω–∞—á–∏–Ω –Ω–∞ –ø–ª–∞—â–∞–Ω–µ</option>
          <option value="cash">–ù–∞–ª–æ–∂–µ–Ω –ø–ª–∞—Ç–µ–∂</option>
          <option value="card">–ö—Ä–µ–¥–∏—Ç–Ω–∞/–î–µ–±–∏—Ç–Ω–∞ –∫–∞—Ä—Ç–∞</option>
          <option value="bank">–ë–∞–Ω–∫–æ–≤ –ø—Ä–µ–≤–æ–¥</option>
        </select>
      </div>

      <button type="submit" class="btn btn-primary">‚úÖ –ü–æ—Ç–≤—ä—Ä–¥–∏ –ø–æ—Ä—ä—á–∫–∞—Ç–∞</button>
    </form>

    <div class="back-to-cart">
      <a href="{{ url_for('cart.cart') }}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –∫—ä–º –∫–æ—à–Ω–∏—Ü–∞—Ç–∞</a>
    </div>
  {% else %}
    <div class="empty-checkout">
      <p>–ö–æ—à–Ω–∏—Ü–∞—Ç–∞ –µ –ø—Ä–∞–∑–Ω–∞.</p>
      <a href="{{ url_for('catalog.catalog') }}" class="btn">–ö—ä–º –∫–∞—Ç–∞–ª–æ–≥–∞</a>
    </div>
  {% endif %}
</div>
{% endblock %}